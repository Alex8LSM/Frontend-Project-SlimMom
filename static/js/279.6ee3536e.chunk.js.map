{"version":3,"file":"static/js/279.6ee3536e.chunk.js","mappings":"+VAGaA,EAAOC,EAAAA,GAAAA,IAAH,8JACsBC,EAAAA,EAAAA,QAO1BC,EAAaF,EAAAA,GAAAA,OAAH,iUACNC,EAAAA,EAAAA,UAKNA,EAAAA,EAAAA,iBACWA,EAAAA,EAAAA,aAOTA,EAAAA,EAAAA,cAIAE,EAAQH,EAAAA,GAAAA,MAAH,yUACDC,EAAAA,EAAAA,UAKNA,EAAAA,EAAAA,iBACWA,EAAAA,EAAAA,aAOTA,EAAAA,EAAAA,cAIAG,EAAOJ,EAAAA,GAAAA,KAAH,qE,SClCF,SAASK,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MAEbC,EAAS,GAEb,GAA8BC,EAAAA,EAAAA,UAAS,CACrCC,aAAa,EACbC,IAAK,KACLC,KAAM,EACNC,WACE,2EALJ,eAAOC,EAAP,KAAgBC,EAAhB,KAsBMC,EAAe,SAAAC,GACnBT,EAASS,CACV,EAqCD,OACE,+BACE,UAAClB,EAAD,YACE,UAACmB,EAAA,EAAD,CAAKC,aAAa,OAAlB,WACE,SAACD,EAAA,EAAD,CAAKE,MAAM,MAAX,UACE,SAACC,EAAA,EAAD,CACEC,IAAKR,EAAQD,WACbU,MAAO,CACLH,MAAO,OACPI,OAAQ,OACRC,UAAW,cAKjB,UAACrB,EAAD,CAAMsB,GAAG,OAAOC,SA1BH,SAAAC,GACnBA,EAAEC,iBAEFvB,EACEwB,EAAAA,EAAAA,aACEC,KAAKC,UAAU,CAAEC,OAAQnB,EAAQD,eAGrCqB,EAAAA,GAAAA,QAAc,+FAAqB,CAAEC,SAAU,cAChD,EAiBO,WACE,SAAChC,EAAD,CACEiC,KAAK,OACLC,KAAK,SACLC,UAAQ,EACRC,OAAO,UACPC,SA1Ca,SAAAZ,GACvB,IAAIa,EAAMC,IAAIC,gBAAgBf,EAAEgB,OAAOC,MAAM,IAE7C9B,GAAW,kBACND,GADK,IAERH,IAAK8B,EACL/B,aAAa,IAEhB,KAoCS,SAACR,EAAD,CAAYkC,KAAK,SAAjB,8DAIHtB,EAAQJ,cACP,UAACQ,EAAA,EAAD,CAAK4B,QAAQ,QAAQ1B,MAAM,MAA3B,WACE,SAAC,IAAD,CACE2B,IAAK/B,EACLgC,MAAOlC,EAAQH,IACfS,MAAO,IACPI,OAAQ,IACRyB,OAAQ,GACRC,MAAO,CAAC,IAAK,IAAK,IAAK,IACvBC,OAAQ,EACRC,MAAOtC,EAAQF,QAEjB,SAACyC,EAAA,EAAD,CACE,aAAW,aACXC,MAAOxC,EAAQF,KACf2C,IAAK,EACLC,IAAK,GACLC,KAAM,GACNjB,SAlGS,SAACkB,EAAOJ,GAC3BvC,GAAW,kBACND,GADK,IAERF,KAAM0C,IAET,KA+FS,UAACpC,EAAA,EAAD,YACE,SAACyC,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QA9FnB,WACnB9C,GAAW,kBACND,GADK,IAERJ,aAAa,IAEhB,EAyFW,qBAGA,SAACiD,EAAA,EAAD,CAAQE,QAtFD,SAAAjC,GACjB,GAAIZ,EAAc,CAChB,IAAM8C,EAAetD,EAAOuD,yBAE5BjD,EAAQH,IAAMmD,EAAaE,YAC3BjD,GAAW,kBACND,GADK,IAGRJ,aAAa,EACbG,WAAYC,EAAQH,MAEvB,CACF,EA0EW,4BAOb,C","sources":["components/Header/Avatar.styled.js","components/Header/Avatar.js"],"sourcesContent":["import styled from 'styled-components';\nimport { layoutStyles } from '../../stlyles/layoutStyles';\n\nexport const BoxA = styled.div`\n  @media only screen and (min-width: ${layoutStyles.tablet}) {\n    display: flex;\n    justify-content: space-around;\n    align-items: stretch;\n  } ;\n`;\n\nexport const ButtonForm = styled.button`\n  font-family: ${layoutStyles.gothamPro};\n  font-size: 14px;\n  font-weight: 700;\n  line-height: 13px;\n  letter-spacing: 0.04em;\n  color: ${layoutStyles.placeholderColor};\n  border: 1px solid ${layoutStyles.activeButton};\n  background-color: transparent;\n  padding: 7px;\n  border-radius: 5px;\n  width: 100px;\n  cursor: pointer;\n  &:hover {\n    color: ${layoutStyles.activeButton};\n  }\n`;\n\nexport const Input = styled.input`\n  font-family: ${layoutStyles.gothamPro};\n  font-size: 14px;\n  font-weight: 700;\n  line-height: 13px;\n  letter-spacing: 0.04em;\n  color: ${layoutStyles.placeholderColor};\n  border: 1px solid ${layoutStyles.activeButton};\n  background-color: transparent;\n  padding: 10px;\n  border-radius: 5px;\n  cursor: pointer;\n  margin-bottom: 10px;\n  &:hover {\n    color: ${layoutStyles.activeButton};\n  }\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  flex-direction: column;\n`;\n","import { Avatar, Box, Button, Slider } from '@material-ui/core';\nimport { useState } from 'react';\nimport AvatarEditor from 'react-avatar-editor';\nimport authOperations from '../../redux/auth/authOperations';\nimport { useDispatch } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {\n  BoxA,\n  ButtonForm,\n  Input,\n  Form } from './Avatar.styled';\n\nexport default function AvatarUpload() {\n  const dispatch = useDispatch();\n\n  var editor = '';\n\n  const [picture, setPicture] = useState({\n    cropperOpen: false,\n    img: null,\n    zoom: 2,\n    croppedImg:\n      'https://upload.wikimedia.org/wikipedia/commons/0/09/Man_Silhouette.png',\n  });\n\n  const handleSlider = (event, value) => {\n    setPicture({\n      ...picture,\n      zoom: value,\n    });\n  };\n\n  const handleCancel = () => {\n    setPicture({\n      ...picture,\n      cropperOpen: false,\n    });\n  };\n\n  const setEditorRef = ed => {\n    editor = ed;\n  };\n\n  const handleSave = e => {\n    if (setEditorRef) {\n      const canvasScaled = editor.getImageScaledToCanvas();\n\n      picture.img = canvasScaled.toDataURL();\n      setPicture({\n        ...picture,\n\n        cropperOpen: false,\n        croppedImg: picture.img,\n      });\n    }\n  };\n\n  const handleFileChange = e => {\n    let url = URL.createObjectURL(e.target.files[0]);\n\n    setPicture({\n      ...picture,\n      img: url,\n      cropperOpen: true,\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    dispatch(\n      authOperations.updateAvatar(\n        JSON.stringify({ avatar: picture.croppedImg })\n      )\n    );\n    toast.success('Світлину змінено!', { position: 'top-center' });\n  };\n\n  return (\n    <>\n      <BoxA>\n        <Box marginBottom=\"10px\">\n          <Box width=\"35%\">\n            <Avatar\n              src={picture.croppedImg}\n              style={{\n                width: '100%',\n                height: 'auto',\n                objectFit: 'cover',\n              }}\n            />\n          </Box>\n\n          <Form id=\"form\" onSubmit={handleSubmit}>\n            <Input\n              type=\"file\"\n              name=\"avatar\"\n              multiple\n              accept=\"image/*\"\n              onChange={handleFileChange}\n            />\n            <ButtonForm type=\"submit\">Змінити</ButtonForm>\n          </Form>\n        </Box>\n\n        {picture.cropperOpen && (\n          <Box display=\"block\" width=\"50%\">\n            <AvatarEditor\n              ref={setEditorRef}\n              image={picture.img}\n              width={200}\n              height={200}\n              border={50}\n              color={[255, 255, 255, 0.6]}\n              rotate={0}\n              scale={picture.zoom}\n            />\n            <Slider\n              aria-label=\"raceSlider\"\n              value={picture.zoom}\n              min={1}\n              max={10}\n              step={0.1}\n              onChange={handleSlider}\n            ></Slider>\n            <Box>\n              <Button variant=\"contained\" onClick={handleCancel}>\n                Cancel\n              </Button>\n              <Button onClick={handleSave}>Save</Button>\n            </Box>\n          </Box>\n        )}\n      </BoxA>\n    </>\n  );\n}\n"],"names":["BoxA","styled","layoutStyles","ButtonForm","Input","Form","AvatarUpload","dispatch","useDispatch","editor","useState","cropperOpen","img","zoom","croppedImg","picture","setPicture","setEditorRef","ed","Box","marginBottom","width","Avatar","src","style","height","objectFit","id","onSubmit","e","preventDefault","authOperations","JSON","stringify","avatar","toast","position","type","name","multiple","accept","onChange","url","URL","createObjectURL","target","files","display","ref","image","border","color","rotate","scale","Slider","value","min","max","step","event","Button","variant","onClick","canvasScaled","getImageScaledToCanvas","toDataURL"],"sourceRoot":""}